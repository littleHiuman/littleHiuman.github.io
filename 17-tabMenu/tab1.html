<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>选项卡效果的菜单栏</title>
    <link rel="stylesheet" href="./index3.css" />
  </head>
  <body>
    <div id="wrap">
      <ul class="title">
        <li class="active">产品介绍<i></i></li>
        <li>产品功能<i></i></li>
        <li>产品价格<i></i></li>
        <li>更多服务<i></i></li>
      </ul>
      <div class="con">
        内容内容内容内容内容内容1
      </div>
      <div class="con">
        内容内容内容内容内容内容2
      </div>
      <div class="con">
        内容内容内容内容内容内容3
      </div>
      <div class="con">
        内容内容内容内容内容内容4
      </div>
    </div>

    <script>
      var menus = document.querySelector('.title')
      var oCon = document.querySelectorAll('.con')
      var lis = menus.children
      for (var i = 0; i < lis.length; i++) {
        lis[i]['data-index'] = i
        oCon[i].style.display = 'none'
      }
      window.onload = onloadCon()
      function onloadCon() {
        for (var i = 0; i < lis.length; i++) {
          if (hasClass(lis[i], 'active')) {
            oCon[i].style.display = 'block'
          }
        }
      }

      menus.onclick = function(event) {
        if (event.target.tagName === 'LI') {
          for (var i = 0; i < lis.length; i++) {
            removeClass(lis[i], 'active')
            oCon[i].style.display = 'none'
          }
          addClass(lis[event.target['data-index']], 'active')
          oCon[event.target['data-index']].style.display = 'block'
        }
      }

      function hasClass(elem, cls) {
        cls = cls || ''
        if (cls.replace(/\s/g, '').length == 0) return false
        return new RegExp(' ' + cls + ' ').test(' ' + elem.className + ' ')
      }
      function addClass(elem, cls) {
        if (!hasClass(elem, cls)) {
          elem.className += ' ' + cls
        }
      }
      function removeClass(elem, cls) {
        if (hasClass(elem, cls)) {
          var newClass = ' ' + elem.className.replace(/[\t\r\n]/g, '') + ' '
          while (newClass.indexOf(' ' + cls + ' ') >= 0) {
            newClass = newClass.replace(' ' + cls + ' ', ' ')
          }
          elem.className = newClass.replace(/^\s+|\s+$/g, '')
        }
      }
    </script>
  </body>
</html>
